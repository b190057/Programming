# Assigment
Assignment for PROGRAMMING FOR DATA SCIENCE
Student names:
* Ãlvaro Alonso Lancho
* Alberto GonzÃ¡lez RuÃ­z
* Adrian Retes
* Pablo Torija MartÃ­nez
* RaÃºl Moldes del Castillo


# IMPORTANT
To interact with the program, linux or Windows OS must be needed (for logging)

## Structure of the project

The project has the following structure:

```
ðŸ“¦Programming
 â”£ ðŸ“‚data
 â”ƒ â”£ ðŸ“œbox_office.csv
 â”ƒ â”£ ðŸ“œnetflix_best.csv
 â”ƒ â”£ ðŸ“œnetflix_most_voted.csv
 â”ƒ â”£ ðŸ“œnetflix_releases.csv
 â”ƒ â”£ ðŸ“œreleases.csv
 â”ƒ â”— ðŸ“œtop_films.csv
 â”£ ðŸ“‚images
 â”ƒ â”£ ðŸ“œbox_office.png
 â”ƒ â”£ ðŸ“œcollaboration_directors_actors.png
 â”ƒ â”£ ðŸ“œcombined_plot.png
 â”ƒ â”£ ðŸ“œnetflix_releases2024_April.png
 â”ƒ â”£ ðŸ“œnetflix_releases2024_June.png
 â”ƒ â”£ ðŸ“œnetflix_releases2024_March.png
 â”ƒ â”£ ðŸ“œnetflix_releases2024_May.png
 â”ƒ â”£ ðŸ“œnetflix_votes_rating.png
 â”ƒ â”— ðŸ“œtop_producers.png
 â”£ ðŸ“‚log
 â”ƒ â”£ ðŸ“œscraper.log
 â”ƒ â”— ðŸ“‚config
 â”ƒ   â”£ ðŸ“œlogger_linux.yml
 â”ƒ   â”— ðŸ“œlogger_windows.yml
 â”£ ðŸ“‚scraper
 â”ƒ â”£ ðŸ“œmain_scraper.py
 â”ƒ â”£ ðŸ“œnetflix.py
 â”ƒ â”£ ðŸ“œreleases.py
 â”ƒ â”— ðŸ“œtop_films.py
 â”£ ðŸ“‚visualization
 â”ƒ â”£ ðŸ“œmain_visualization.py
 â”ƒ â”£ ðŸ“œnetflix_visualization.py
 â”ƒ â”£ ðŸ“œreleases_visualization.py
 â”ƒ â”£ ðŸ“œtop_films_visualization.py
 â”ƒ â”— ðŸ“‚utils
 â”ƒ   â”— ðŸ“œcalendar.py
 â”£ ðŸ“œconstants.py
 â”£ ðŸ“œmain.py
 â”£ ðŸ“œREADME.md
 â”— ðŸ“œrequirements.txt
```

There are five folders that stores the following information:
* `data` this folder contains all the files in csv format extracted by the different scrappers
* `images` this folder contains all the png generated for visualization showing the data obtained in the `data` folder
* `log` this folder contains all the configuration for the personalized logging
* `scraper` this folder contains all the logic for the scrapers, lunched by a main scraper. The data is stored in the `data` folder
* `visualization` this folder contains all the logic for the data visualization, launched by a main visualization. The visualizations are stored in the `images` folder

## How to install the dependencies

First, a virtual environment must be created

After that, install the `requirements.txt` file which contains all the necessary dependencies with the specific versions used.

```sh
pip install -r requirements.txt
```

## How to interact with the program

You just need to execute `main.py` by staying this file in the root of the project

```sh
python main.py
```

## Description of folders and files

### data:
#### contains all the csv files generated by the different scrapers contained in the `scraper` folder:
    box_office.csv -> generated in the releases.py scraper
    netflix_best.csv -> generated in the netflix.py scraper
    netflix_most_voted.csv -> generated in the netflix.py scraper
    netflix_releases.csv -> generated in the netflix.py scraper
    releases.csv -> generated in the releases.py scraper
    top_films.csv -> generated in the top_films.py scraper

### images:
#### contains all the visualizations of the data contained in the csv files contained in the `data` folder:
    box_office.png -> bubble plot representing the different data of the box_office.csv combined with releases.py. The x axis represents the number of weeks that the film was released on, in the y axis we have the duration of each film, the color represents the title of the film and the size represents the gross generated
    collaboration_directors_actors.png -> a graph representing the relationships betweeen the top collaborations of directors and actors that can be differenced by the node color, and the weight represents the number of collaborations together. The information presnted is the one contained in the `top_films.csv` file
    combined_plot.png -> a bar chart representing the genres, directors and actors that most appear in the top 1000 FA films. The data presented is obtained from the `top_films.csv` file
    netflix_releasesYEAR_MONTH.png -> a calendar containing the next netflix releases for each mont. The information showed is the title, the country and the genre of the film/serie and it is extracted from the `netflix_releases.csv` file
    netflix_votes_rating.png -> a scatter plot that shows if there is a relationship between the most voted and the most valorated content of neflix. The x axis represent the numer of votes, the y axis represents the rating of each film and finally the color determines if a film is obtained from the most voted/most valorated file (`netflix_best.csv` and `netflix_most_voted.csv`)
    top_producers.png -> a pie chart that represents the producers that have more films in the current films on cinema. The percentage is obtained among them, not the total (minimum 2 productions). The data is obtained from the `releases.csv` file

### log:
##### contains all the configuration files, nothing to do with the actual work so this part is skipped

### scraper:
#### main_scraper.py: this file just execute the three scrapers in this order: 
    top_scraper() -> executes the main of top_films.py
    releases_scraper() -> executes the main of releases.py
    netflix_scraper() -> executes the main of netflix.py
#### top_films.py: this file generates a single csv containing information of the top 1000 FA films: 
    start_scrapper() -> this scrapper starts the real scraper by navigation into the desired page
    get_urls() -> this function returns a list of the 1000 urls of the top films
    get_final_df() -> returns a csv containing the Title,Directors,genres and Actors of the 1000 films and it is saved in a file named `top_films.csv`
#### releases.py: this file generates 2 different csv, one containing the actual releases and one containing information of the box office: 
    start_scrapper() -> this scrapper starts the different processes
    get_urls() -> this function returns a list of the urls of the releases films
    get_final_df() -> returns a csv containing the Title,Producers and Duration of the released films and it is saved in a file named `releases.csv`
    get_final_df_box() -> returns a csv containing the #,Title,Genre,Weeks,Weekend Gross and Total Gross extracted from the first table containing the top 10 box office of the current releases and it is saved in a file named `box_office.csv`
#### netflix.py: this file generates the 3 different csv: 
    start_scrapper() -> this scrapper starts the different processes
    get_releases_df() -> returns a csv containing the Title,Origin_country,genres and Release_date of the next netflix releases and it is saved in a file named `netflix_releases.csv`
    get_voted_df() -> returns a csv containing the Title,Origin_country,Genres,Release_date,n_votes and rating of the most voted netflix content and it is saved in a file named `netflix_best.csv`
    get_best_df() -> returns a csv containing the Title,Origin_country,Genres,Release_date,n_votes and rating of the best voted netflix content and it is saved in a file named `netflix_best.csv`

### visualization:
#### main_visualization.py: this file just execute the three visualizations in this order: 
    netflix_visualization() -> executes the main of netflix_visualization.py
    releases_visualization() -> executes the main of releases_visualization.py
    top_films_visualization() -> executes the main of top_films_visualization.py
#### netflix_visualization.py: this file generates several png files that start with the word netflix in the `images` folder: 
    start_visualization() -> this function calls the functions to obtain all the desired images
    visualization_next_release() -> this function generates as many files as months that next releases are made. Then it is saved in the `images` folder as netflix_releasesYEAR_MONTH.png
    visualization_popular_best() -> this function generates relation between most popular content vs best rated content. Then it is saved in the `images` folder as netflix_votes_rating.png
#### releases_visualization.py: this file generates two png files in the `images` folder: 
    start_visualization() -> this function calls the functions to obtain all the desired images
    visualization_producers() -> this function generates a single png file with a representation of a pie chart. Then it is saved in the `images` folder as top_producers.png
    visualization_box_office() -> this function generates a single png file but with 2 bubble plots, one for the weekend gross and the other for the total gross. Then it is saved in the `images` folder as box_office.png
#### top_films_visualization.py: this file generates two png files in the `images` folder: 
    start_visualization() -> this function calls the functions to obtain all the desired images
    visualization_frequency_actors_directors_genres() -> this function generates 3 plots of bar chart. One for the top genres, another one for the directors top and the last one for the actors top. Then it is saved in the `images` folder as combined_plot.png
    visualization_collaboration() -> this function generates 1 plot of a graph, representing the actor/director by nodes in different colors, the edges and weigths for the real representation. Then it is saved in the `images` folder as collaboration_directors_actors.png
### visualization/utils:
    contains the logic of the calendar that it is used by the `netflix_visualization.py` file, in more detail in the part of next releases. It basically contains the days of the month and events can be added to a specific day.

THANKS FOR READING! <3